<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu - Chez Tim's Resto</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/dist/css/font-awesome.min.css">
</head>
<body class="bg-black text-white font-sans pb-40">

    <header class="py-10 text-center bg-zinc-900 border-b border-orange-500/30">
        <img src="logo.jpg" alt="Logo Chez Tim's" class="w-28 h-28 mx-auto rounded-full border-2 border-orange-500 mb-4 shadow-lg shadow-orange-500/20">
        <div id="table-display" class="bg-orange-600 text-black px-6 py-1 rounded-full font-black text-sm uppercase mb-2 inline-block italic">Table en attente...</div>
        <h1 class="text-3xl font-black text-orange-500 uppercase italic tracking-tighter">Chez Tim's Resto</h1>
        <p class="text-gray-400 text-xs mt-1 uppercase tracking-widest italic">Cuisine Africaine & Européenne</p>
    </header>

    <main class="p-4 max-w-md mx-auto space-y-12">
        <section>
            <h2 class="text-2xl font-bold border-l-4 border-orange-500 pl-3 mb-6 uppercase text-orange-400 italic">Nos Fast Food</h2>
            <div class="item bg-zinc-900 p-4 rounded-3xl border border-zinc-800" data-name="Chawarma" data-price="2000">
                <img src="chawarma.jpg" class="w-full h-48 object-cover rounded-2xl mb-4">
                <div class="flex justify-between items-center mb-4"><span class="font-bold italic uppercase">Chawarma</span><span class="text-orange-500 font-black text-lg">2000 F</span></div>
                <div class="flex items-center gap-4 bg-black p-1 rounded-xl w-fit border border-zinc-700">
                    <button onclick="changeQty(this, -1)" class="w-10 h-10 font-bold">-</button>
                    <span class="qty font-bold text-lg w-6 text-center">0</span>
                    <button onclick="changeQty(this, 1)" class="w-10 h-10 bg-orange-600 text-black rounded-lg font-bold">+</button>
                </div>
            </div>
        </section>
        
        </main>

    <div class="fixed bottom-0 left-0 right-0 p-4 bg-zinc-900/95 border-t border-orange-500/50 space-y-3">
        <div class="flex justify-between items-center px-2"><span class="text-gray-400 font-bold text-xs">TOTAL:</span><span id="total-price" class="text-2xl font-black text-orange-500">0 FCFA</span></div>
        <button onclick="sendOrder()" class="w-full bg-green-600 py-4 rounded-2xl font-black flex items-center justify-center gap-2">
            <i class="fab fa-whatsapp text-2xl"></i> PASSER LA COMMANDE
        </button>
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const table = urlParams.get('table') || "??";
        document.getElementById('table-display').innerText = "TABLE N° " + table;
        let cart = {};
        function changeQty(btn, delta) {
            const card = btn.closest('.item');
            const name = card.getAttribute('data-name');
            const price = parseInt(card.getAttribute('data-price'));
            const qtySpan = card.querySelector('.qty');
            let q = parseInt(qtySpan.innerText) + delta;
            if(q < 0) q = 0;
            qtySpan.innerText = q;
            if(q > 0) { cart[name] = {p: price, q: q}; }
            else { delete cart[name]; }
            let total = 0; for(let i in cart) total += cart[i].p * cart[i].q;
            document.getElementById('total-price').innerText = total + " FCFA";
        }
        function sendOrder() {
            if(Object.keys(cart).length === 0) return alert("Panier vide !");
            let msg = `*COMMANDE TABLE ${table}*%0A*Chez Tim's Resto*%0A*------------------*%0A`;
            for(let i in cart) msg += `• ${cart[i].q}x ${i}%0A`;
            msg += `*------------------*%0A*TOTAL : ${document.getElementById('total-price').innerText}*`;
            window.open(`https://wa.me/2250779212851?text=${msg}`);
        }
    </script>
</body>
</html>
